import{_ as t,P as e,a as n,C as r,g as o,V as i,J as a,b as u,c as s}from"./JsonSchemaForm-aeea9264.js";var l=function(t){t.title,t.description,t.items,t.minLength,t.maxLength,t.minimum,t.maximum;var e=Object.assign({},t,{type:"null"!==t.type&&"object"!=typeof t.type?t.type:"string"});return t.properties&&(e.properties={},Object.entries(t.properties).forEach(function(t){var n=t[0],r=t[1];e.properties[n]=l(r)})),t.items&&(e.items=l(t.items)),e},c="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d(t,e){return t(e={exports:{}},e.exports),e.exports}var p=d(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.withParams=void 0;var r="undefined"!=typeof window?window:void 0!==c?c:{},o=r.vuelidate?r.vuelidate.withParams:function(t,e){return"object"===n(t)&&void 0!==e?e:t(function(){})};e.withParams=o});f(p);p.withParams;var h=d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=p.withParams;e.default=n});f(h);var y=d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"withParams",{enumerable:!0,get:function(){return r.default}}),e.regex=e.ref=e.len=e.req=void 0;var n,r=(n=h)&&n.__esModule?n:{default:n};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){if(Array.isArray(t))return!!t.length;if(null==t)return!1;if(!1===t)return!0;if(t instanceof Date)return!isNaN(t.getTime());if("object"===o(t)){for(var e in t)return!0;return!1}return!!String(t).length};e.req=i;e.len=function(t){return Array.isArray(t)?t.length:"object"===o(t)?Object.keys(t).length:String(t).length};e.ref=function(t,e,n){return"function"==typeof t?t.call(e,n):n[t]};e.regex=function(t,e){return(0,r.default)({type:t},function(t){return!i(t)||e.test(t)})}});f(y);y.regex,y.ref,y.len,y.req;var m=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=(0,y.withParams)({type:"required"},y.req);e.default=n})),v=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return(0,y.withParams)({type:"minLength",min:t},function(e){return!(0,y.req)(e)||(0,y.len)(e)>=t})}})),b=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return(0,y.withParams)({type:"maxLength",max:t},function(e){return!(0,y.req)(e)||(0,y.len)(e)<=t})}})),g=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return(0,y.withParams)({type:"minValue",min:t},function(e){return!(0,y.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e>=+t})}})),_=f(d(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(t){return(0,y.withParams)({type:"maxValue",max:t},function(e){return!(0,y.req)(e)||(!/\s/.test(e)||e instanceof Date)&&+e<=+t})}})),M=function(t){var e={};return t.properties&&Object.keys(t.properties).forEach(function(n){var r=t.properties?t.properties[n]:{};e[n]={},("string"===r.type&&r.minLength||"number"===r.type&&r.minimum||"integer"===r.type&&r.minimum||"array"===r.type&&r.minLength)&&(e[n].required=m),r.minLength&&(e[n].minLength=v(r.minLength)),r.maxLength&&(e[n].maxLength=b(r.maxLength)),r.minimum&&(e[n].minValue=g(r.minimum)),r.maximum&&(e[n].maxValue=_(r.maximum)),"object"===r.type&&(e[n]=M(r)),"array"===r.type&&r.items&&"object"===r.items.type&&(e[n]=Object.assign({},e[n],{$each:M(r.items)}))}),e},P=d(function(t,e){function n(t){return null==t}function r(t){return null!=t}function o(t,e){return e.tag===t.tag&&e.key===t.key}function i(t){var e=t.tag;t.vm=new e({data:t.args})}function a(t,e,n){var o,i,a={};for(o=e;o<=n;++o)r(i=t[o].key)&&(a[i]=o);return a}function u(t,e,n){for(;e<=n;++e)i(t[e])}function s(t,e,n){for(;e<=n;++e){var o=t[e];r(o)&&(o.vm.$destroy(),o.vm=null)}}function l(t,e){t!==e&&(e.vm=t.vm,function(t){for(var e=Object.keys(t.args),n=0;n<e.length;n++)e.forEach(function(e){t.vm[e]=t.args[e]})}(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.patchChildren=function(t,e){r(t)&&r(e)?t!==e&&function(t,e){var c,f,d,p=0,h=0,y=t.length-1,m=t[0],v=t[y],b=e.length-1,g=e[0],_=e[b];for(;p<=y&&h<=b;)n(m)?m=t[++p]:n(v)?v=t[--y]:o(m,g)?(l(m,g),m=t[++p],g=e[++h]):o(v,_)?(l(v,_),v=t[--y],_=e[--b]):o(m,_)?(l(m,_),m=t[++p],_=e[--b]):o(v,g)?(l(v,g),v=t[--y],g=e[++h]):(n(c)&&(c=a(t,p,y)),n(f=r(g.key)?c[g.key]:null)?(i(g),g=e[++h]):o(d=t[f],g)?(l(d,g),t[f]=void 0,g=e[++h]):(i(g),g=e[++h]));p>y?u(e,h,b):h>b&&s(t,p,y)}(t,e):r(e)?u(e,0,e.length-1):r(t)&&s(t,0,t.length-1)},e.h=function(t,e,n){return{tag:t,key:e,args:n}}});f(P);P.patchChildren,P.h;var j=d(function(t,e){function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.pushParams=a,e.popParams=u,e.withParams=function(t,e){if("object"===r(t)&&void 0!==e)return function(t,e){return l(function(n){return function(){var r=arguments;n(t);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=r[a];return e.apply(this,i)}})}(t,e);return l(t)},e._setTarget=e.target=void 0;var o=[],i=null;e.target=i;function a(){null!==i&&o.push(i),e.target=i={}}function u(){var t=i,n=e.target=i=o.pop()||null;return n&&(Array.isArray(n.$sub)||(n.$sub=[]),n.$sub.push(t)),t}function s(t){if("object"!==r(t)||Array.isArray(t))throw new Error("params must be an object");e.target=i=function(t){for(var e=arguments,r=1;r<arguments.length;r++){var o=null!=e[r]?e[r]:{},i=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable}))),i.forEach(function(e){n(t,e,o[e])})}return t}({},i,t)}function l(t){var e=t(s);return function(){var t=arguments;a();try{for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=t[o];return e.apply(this,r)}finally{u()}}}e._setTarget=function(t){e.target=i=t}});f(j);j.pushParams,j.popParams,j.withParams,j._setTarget,j.target;var $=d(function(t,e){function n(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t){for(var e=arguments,n=1;n<arguments.length;n++){var r=null!=e[n]?e[n]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){o(t,e,r[e])})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.Vuelidate=$,Object.defineProperty(e,"withParams",{enumerable:!0,get:function(){return j.withParams}}),e.default=e.validationMixin=void 0;var a=function(){return null},u=function(t,e,n){return t.reduce(function(t,r){return t[n?n(r):r]=e(r),t},{})};function s(t){return"function"==typeof t}function l(t){return null!==t&&("object"===i(t)||s(t))}var c=function(t,e,n,r){if("function"==typeof n)return n.call(t,e,r);n=Array.isArray(n)?n:n.split(".");for(var o=0;o<n.length;o++){if(!e||"object"!==i(e))return r;e=e[n[o]]}return void 0===e?r:e},f="__isVuelidateAsyncVm";var d={$invalid:function(){var t=this,e=this.proxy;return this.nestedKeys.some(function(e){return t.refProxy(e).$invalid})||this.ruleKeys.some(function(t){return!e[t]})},$dirty:function(){var t=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.every(function(e){return t.refProxy(e).$dirty})},$anyDirty:function(){var t=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.some(function(e){return t.refProxy(e).$anyDirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$anyError:function(){return this.$anyDirty&&!this.$pending&&this.$invalid},$pending:function(){var t=this;return this.ruleKeys.some(function(e){return t.getRef(e).$pending})||this.nestedKeys.some(function(e){return t.refProxy(e).$pending})},$params:function(){var t=this,e=this.validations;return r({},u(this.nestedKeys,function(t){return e[t]&&e[t].$params||null}),u(this.ruleKeys,function(e){return t.getRef(e).$params}))}};function p(t){this.dirty=t;var e=this.proxy,n=t?"$touch":"$reset";this.nestedKeys.forEach(function(t){e[t][n]()})}var h={$touch:function(){p.call(this,!0)},$reset:function(){p.call(this,!1)},$flattenParams:function(){var t=this.proxy,e=[];for(var n in this.$params)if(this.isNested(n)){for(var r=t[n].$flattenParams(),o=0;o<r.length;o++)r[o].path.unshift(n);e=e.concat(r)}else e.push({path:[],name:n,params:this.$params[n]});return e}},y=Object.keys(d),m=Object.keys(h),v=null,b=function(t){if(v)return v;var e=t.extend({computed:{refs:function(){var t=this._vval;this._vval=this.children,(0,P.patchChildren)(t,this._vval);var e={};return this._vval.forEach(function(t){e[t.key]=t.vm}),e}},beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&((0,P.patchChildren)(this._vval),this._vval=null)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(t){var e=this.getModel();if(e)return e[t]},hasIter:function(){return!1}}}),o=e.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(e){var n=this.getModel();(0,j.pushParams)();var r,o=this.rule.call(this.rootModel,n,e),i=l(r=o)&&s(r.then)?function(t,e){var n=new t({data:{p:!0,v:!1}});return e.then(function(t){n.p=!1,n.v=t},function(t){throw n.p=!1,n.v=!1,t}),n[f]=!0,n}(t,o):o,a=(0,j.popParams)();return{output:i,params:a&&a.$sub?a.$sub.length>1?a:a.$sub[0]:null}}},computed:{run:function(){var t=this,e=this.lazyParentModel();if(Array.isArray(e)&&e.__ob__){var n=e.__ob__.dep;n.depend();var r=n.constructor.target;if(!this._indirectWatcher){var o=r.constructor;this._indirectWatcher=new o(this,function(){return t.runRule(e)},null,{lazy:!0})}var i=this.getModel();if(!this._indirectWatcher.dirty&&this._lastModel===i)return this._indirectWatcher.depend(),r.value;this._lastModel=i,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}else this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null);return this._indirectWatcher?this._indirectWatcher.value:this.runRule(e)},$params:function(){return this.run.params},proxy:function(){var t=this.run.output;return t[f]?!!t.v:!!t},$pending:function(){var t=this.run.output;return!!t[f]&&t.p}},destroyed:function(){this._indirectWatcher&&(this._indirectWatcher.teardown(),this._indirectWatcher=null)}}),i=e.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:r({},h,{refProxy:function(t){return this.getRef(t).proxy},getRef:function(t){return this.refs[t]},isNested:function(t){return"function"!=typeof this.validations[t]}}),computed:r({},d,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var t=this;return this.keys.filter(function(e){return!t.isNested(e)})},keys:function(){return Object.keys(this.validations).filter(function(t){return"$params"!==t})},proxy:function(){var t=this,e=u(this.keys,function(e){return{enumerable:!0,configurable:!0,get:function(){return t.refProxy(e)}}}),n=u(y,function(e){return{enumerable:!0,configurable:!0,get:function(){return t[e]}}}),o=u(m,function(e){return{enumerable:!1,configurable:!0,get:function(){return t[e]}}}),i=this.hasIter()?{$iter:{enumerable:!0,value:Object.defineProperties({},r({},e))}}:{};return Object.defineProperties({},r({},e,i,{$model:{enumerable:!0,get:function(){var e=t.lazyParentModel();return null!=e?e[t.prop]:null},set:function(e){var n=t.lazyParentModel();null!=n&&(n[t.prop]=e,t.$touch())}}},n,o))},children:function(){var t=this;return n(this.nestedKeys.map(function(e){return g(t,e)})).concat(n(this.ruleKeys.map(function(e){return _(t,e)}))).filter(Boolean)}})}),p=i.extend({methods:{isNested:function(t){return void 0!==this.validations[t]()},getRef:function(t){var e=this;return{get proxy(){return e.validations[t]()||!1}}}}}),b=i.extend({computed:{keys:function(){var t=this.getModel();return l(t)?Object.keys(t):[]},tracker:function(){var t=this,e=this.validations.$trackBy;return e?function(n){return"".concat(c(t.rootModel,t.getModelKey(n),e))}:function(t){return"".concat(t)}},getModelLazy:function(){var t=this;return function(){return t.getModel()}},children:function(){var t=this,e=this.validations,n=this.getModel(),o=r({},e);delete o.$trackBy;var a={};return this.keys.map(function(e){var r=t.tracker(e);return a.hasOwnProperty(r)?null:(a[r]=!0,(0,P.h)(i,r,{validations:o,prop:e,lazyParentModel:t.getModelLazy,model:n[e],rootModel:t.rootModel}))}).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(t){return this.refs[this.tracker(t)]},hasIter:function(){return!0}}}),g=function(t,e){if("$each"===e)return(0,P.h)(b,e,{validations:t.validations[e],lazyParentModel:t.lazyParentModel,prop:e,lazyModel:t.getModel,rootModel:t.rootModel});var n=t.validations[e];if(Array.isArray(n)){var r=t.rootModel,o=u(n,function(t){return function(){return c(r,r.$v,t)}},function(t){return Array.isArray(t)?t.join("."):t});return(0,P.h)(p,e,{validations:o,lazyParentModel:a,prop:e,lazyModel:a,rootModel:r})}return(0,P.h)(i,e,{validations:n,lazyParentModel:t.getModel,prop:e,lazyModel:t.getModelKey,rootModel:t.rootModel})},_=function(t,e){return(0,P.h)(o,e,{rule:t.validations[e],lazyParentModel:t.lazyParentModel,lazyModel:t.getModel,rootModel:t.rootModel})};return v={VBase:e,Validation:i}},g=null;var _=function(t,e){var n=function(t){if(g)return g;for(var e=t.constructor;e.super;)e=e.super;return g=e,e}(t),r=b(n),o=r.Validation;return new(0,r.VBase)({computed:{children:function(){var n="function"==typeof e?e.call(t):e;return[(0,P.h)(o,"$v",{validations:n,lazyParentModel:a,prop:"$v",model:t,rootModel:t})]}}})},M={data:function(){var t=this.$options.validations;return t&&(this._vuelidate=_(this,t)),{}},beforeCreate:function(){var t=this.$options;t.validations&&(t.computed||(t.computed={}),t.computed.$v||(t.computed.$v=function(){return this._vuelidate?this._vuelidate.refs.$v.proxy:null}))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};function $(t){t.mixin(M)}e.validationMixin=M;var w=$;e.default=w});f($);$.Vuelidate;var w=$.validationMixin,O=function(t){function e(){t.apply(this,arguments),this.componentsConfig=this.components,this.wrapperComponent=this.wrapperComponentConfig}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={validationErrors:{configurable:!0},unreffedSchema:{configurable:!0},processedSchema:{configurable:!0}};return n.validationErrors.get=function(){return this.$v.value},e.prototype.created=function(){this.$emit("init-default",o(this.processedSchema))},e.prototype.handleChange=function(t){var e=t.path,n=t.value,r=Object.assign({},this.value),o=e.pop()||"",i=r;e.forEach(function(t){i[t]||(i[t]={}),i=i[t]}),i[o]=n,this.$emit("input",r)},n.unreffedSchema.get=function(){return{}},n.processedSchema.get=function(){return l(this.schema)},Object.defineProperties(e.prototype,n),e}(i);t([e({required:!0})],O.prototype,"schema",void 0),t([e()],O.prototype,"uiSchema",void 0),t([e({default:function(){return{}}})],O.prototype,"value",void 0),t([e()],O.prototype,"components",void 0),t([e()],O.prototype,"wrapperComponentConfig",void 0),t([e()],O.prototype,"errorMessagesConfig",void 0),t([n()],O.prototype,"componentsConfig",void 0),t([n()],O.prototype,"wrapperComponent",void 0);var x=u({render:function(){var t=this.$createElement;return(this._self._c||t)("JsonSchemaForm",{attrs:{schema:this.processedSchema,"ui-schema":this.uiSchema,value:this.value,validations:this.validationErrors},on:{input:this.handleChange}})},staticRenderFns:[]},void 0,O=t([r({mixins:[w],name:"JsonSchema",components:{JsonSchemaForm:a},validations:function(){return{value:M(this.processedSchema)}}})],O),void 0,!1,void 0,void 0,void 0),S=function(t){function e(){t.apply(this,arguments),this.schema={type:"object",properties:{aaa:{type:"number",maximum:10},arr:{type:"array",items:{type:"object",properties:{a:{type:"string",minLength:2},b:{type:"boolean"}}}},bbb:{type:"boolean"},ccc:{type:"string",enum:["1","2","3"]},ddd:{type:"object",title:"",properties:{a1:{type:"string",minLength:1,maxLength:5},b2:{type:"boolean",default:!0},ddd:{type:"object",properties:{a1:{type:"string",default:"aaa"},b2:{type:"boolean"}}}}}}},this.uiSchema={properties:{ccc:{order:1,uiType:"radio"},ddd:{properties:{b2:{order:2},ddd:{order:1}}}}},this.value={arr:[{a:"qwerty",b:!0}],aaa:"123asd",bbb:!0,ccc:3}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={formattedValue:{configurable:!0}};return n.formattedValue.get=function(){return JSON.stringify(this.value,null,2)},Object.defineProperties(e.prototype,n),e}(i),k=u({render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("JsonSchema",{staticClass:"schema",attrs:{schema:t.schema,"ui-schema":t.uiSchema,components:[]},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),n("pre",[t._v(t._s(t.formattedValue))])],1)},staticRenderFns:[]},function(t){t&&t("data-v-4dcbbae0_0",{source:"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;display:flex;padding:20px 0}.schema{margin-right:100px;width:400px!important}",map:void 0,media:void 0})},S=t([r({name:"App",components:{JsonSchema:x}})],S),void 0,!1,void 0,s,void 0);i.config.productionTip=!1,new i({render:function(t){return t(k)}}).$mount("#app");
//# sourceMappingURL=main.js.map
